/*! umobi v umobi.com !*/(function(t,e,n){"function"==typeof define&&define.amd?define(["jquery"],function(i){return n(i,t,e),window.umobi}):n(t.jQuery,t,e)})(this,document,function(t,e,n){n===undefined||"classList"in n.documentElement||function(t){var e="classList",n="prototype",i=(t.HTMLElement||t.Element)[n],r=Object,o=String[n].trim||function(){return this.replace(/^\s+|\s+$/g,"")},s=Array[n].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1},a=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},u=function(t,e){if(""===e)throw new a("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(e))throw new a("INVALID_CHARACTER_ERR","String contains an invalid character");return s.call(t,e)},l=function(t){for(var e=o.call(t.className),n=e?e.split(/\s+/):[],i=0,r=n.length;r>i;i++)this.push(n[i]);this._updateClassName=function(){t.className=""+this}},h=l[n]=[],c=function(){return new l(this)};if(a[n]=Error[n],h.item=function(t){return this[t]||null},h.contains=function(t){return t+="",-1!==u(this,t)},h.add=function(t){t+="",-1===u(this,t)&&(this.push(t),this._updateClassName())},h.remove=function(t){t+="";var e=u(this,t);-1!==e&&(this.splice(e,1),this._updateClassName())},h.toggle=function(t){t+="",-1===u(this,t)?this.add(t):this.remove(t)},h.toString=function(){return this.join(" ")},r.defineProperty){var f={get:c,enumerable:!0,configurable:!0};try{r.defineProperty(i,e,f)}catch(d){-2146823252===d.number&&(f.enumerable=!1,r.defineProperty(i,e,f))}}else r[n].__defineGetter__&&i.__defineGetter__(e,c)}(self),function(){return e.umobi={}}(),function(){var t;return t={},t.supportClassList=n.documentElement.classList!==undefined,t.query=function(t,e){return e=e||n,e.querySelector(t)},t.queryAll=function(t,e){return e=e||n,e.querySelectorAll(t)},t.get=function(t,e){return e=e||n,e.getElementById(t)},t.collectionToArray=function(t){var e,n,i;for(e=0,n=t.length,i=[];n>e;)i.push(t[e]),e++;return i},t.byTagName=function(t,e){return e=e||n,e.getElementsByTagName(t)},t.byClassName=function(t,e){return e=e||n,e.getElementsByClassName(t)},t.bind=function(t,e,n){return t.addEventListener(e,n)},e.dom=t}(),function(){var t,i;return i=function(e){return new t(e)},i.dom=e.dom,i.ready=function(t){return"complete"===n.readyState?setTimeout(t):n.addEventListener("DOMContentLoaded",t,!1)},i.load=function(t){return"complete"===n.readyState?setTimeout(t):e.addEventListener("load",t,!1)},t=function(){function t(t){if(t instanceof NodeList)this.els=t,this.length=t.length;else if(t instanceof Node)this.el=t;else if("object"==typeof t&&t instanceof Array)this.els=t,this.length=t.length;else{if("string"!=typeof t)throw Error("u: unsupported argument");this.els=i.dom.queryAll(t)}}return t.prototype.size=function(){return this.els?this.els.length:this.el?1:0},t.prototype.get=function(t){return this.els?this.els[t]:this.el(0===t)?this.el:undefined},t.prototype.all=function(){return this.els?this.els:this.el?[this.el]:[]},t.prototype.children=function(e){return e?new t(this.get(e)):this.els?new t(this.els):undefined},t.prototype.first=function(){return this.children(0)},t.prototype.last=function(){return this.els?this.children(this.els.length>0?this.els.length-1:0):undefined},t.prototype.addClass=function(t){return"object"==typeof t?this.each(function(e,n){var i,r,o,s;for(s=[],r=0,o=t.length;o>r;r++)i=t[r],s.push(n.classList.add(i));return s}):this.each(function(e,n){return n.classList.add(t)})},t.prototype.toggleClass=function(t){return"object"==typeof t?this.each(function(e,n){var i,r,o,s;for(s=[],r=0,o=t.length;o>r;r++)i=t[r],s.push(n.classList.toggle(i));return s}):this.each(function(e,n){return n.classList.toggle(t)})},t.prototype.removeClass=function(t){return"object"==typeof t?this.each(function(e,n){var i,r,o,s;for(s=[],r=0,o=t.length;o>r;r++)i=t[r],s.push(n.classList.remove(i));return s}):this.each(function(e,n){return n.classList.remove(t)})},t.prototype.hasClass=function(t){var e;return this.el?this.el.classList.contains(t):(e=!1,this.each(function(n,i){return e&&(e=i.classList.contains(t))}),e)},t.prototype.css=function(t,e){return t&&e?this.each(function(n,i){return i.style[t]=e}):"object"==typeof t&&this.el?this.each(function(e,n){var i,r,o,s,a;for(a=[],r=o=0,s=t.length;s>o;r=++o)i=t[r],a.push(n.style[i]=r);return a}):"string"==typeof t&&this.el?this.el.style[t]:undefined},t.prototype.attr=function(t,e){return t&&e?this.each(function(n,i){return i.setAttribute(t,e)}):"object"==typeof t&&this.el?this.each(function(e,n){var i,r,o,s,a;for(a=[],r=o=0,s=t.length;s>o;r=++o)i=t[r],a.push(n.setAttribute(i,r));return a}):"string"==typeof t&&this.el?this.el.getAttribute(t):undefined},t.prototype.each=function(t){var e,n;if(this.els)for(e=0,n=this.els.length;n>e;)t(e,this.els[e]),e++;else t(0,this.el);return this},t.prototype.click=function(t){return this.bind("click",t)},t.prototype.on=function(t,e){return this.bind(t,e)},t.prototype.bind=function(t,e){return this.each(function(n,i,r){return i.addEventListener(t,e,r)})},t.prototype.parent=function(){var e;return e=this.get(0),e?new t(e.parentNode):undefined},t.prototype.find=function(e){var n,r,o,s,a,u;for(r=[],u=this.all(),s=0,a=u.length;a>s;s++)n=u[s],o=i.dom.queryAll(e,n),r=r.concat(o);return new t(r)},t.prototype.siblings=function(t){return t?this.parent().find(t):this.parent().children()},t.prototype.filter=function(e){var n,i,r,o,s;for(r=[],i=this.all(),o=0,s=i.length;s>o;o++)n=i[o],e.call(n,n)&&r.push(n);return new t(r)},t.prototype.next=function(){var e;return e=this.get(0),e?new t(e.nextSibling):undefined},t.prototype.prev=function(){var e;return e=this.get(0),e?new t(e.prevSibling):undefined},t.prototype.style=function(t){return this.el?t?e.getComputedStyle(this.el):this.el.style:undefined},t.prototype.height=function(t){if(t)return this.each(function(e,n){return n.style.height=parseInt(t)+"px"});if(this.el)return this.el.style.height?parseInt(this.el.style.height):parseInt(this.style(1).height)},t.prototype.width=function(t){if(t)return this.each(function(e,n){return n.style.width=parseInt(t)+"px"});if(this.el)return this.el.style.width?parseInt(this.el.style.width):parseInt(this.style(1).width)},t.prototype.jQuery=function(){return $(this.els||this.el)},t}(),e.u=i}(),$(function(){var t,e,n,i,r;for(e=u.dom.queryAll('[data-role="button"]'),r=[],n=0,i=e.length;i>n;n++)t=e[n],r.push($(t));return r}),$(function(){var t,e,n,i,r,o,s;for(n=u.dom.queryAll("input, textarea"),s=[],r=0,o=n.length;o>r;r++)e=n[r],t=$(e),"text"===e.type||"password"===e.type?(i="ui-input-text",e.className+=i,t.wrap('<div class="'+i+' ui-shadow-inset ui-corner-all ui-btn-shadow ui-body-c"></div>'),t.focus(function(){return $(this).parent().addClass("ui-focus")}),s.push(t.blur(function(){return $(this).parent().removeClass("ui-focus")}))):"TEXTAREA"===e.nodeName?(e.className+="ui-input-text ui-shadow-inset ui-corner-all ui-btn-shadow ui-body-c",t.focus(function(){return $(this).addClass("ui-focus")}),s.push(t.blur(function(){return $(this).removeClass("ui-focus")}))):s.push(void 0);return s}),function(){var t,e,n,i,r;return r=$("meta[name=viewport]"),i=r.attr("content"),e=i+",maximum-scale=1, user-scalable=no",n=i+",maximum-scale=10, user-scalable=yes",t=/(user-scalable[\s]*=[\s]*no)|(maximum-scale[\s]*=[\s]*1)[$,\s]/.test(i),umobi.zoom=$.extend({},{enabled:!t,locked:!1,disable:function(n){return t||umobi.zoom.locked?undefined:(r.attr("content",e),umobi.zoom.enabled=!1,umobi.zoom.locked=n||!1)},enable:function(e){return t||umobi.zoom.locked&&e===!0?undefined:(r.attr("content",n),umobi.zoom.enabled=!0,umobi.zoom.locked=!1)},restore:function(){return t?undefined:(r.attr("content",i),umobi.zoom.enabled=!0)}})}(umobi),$(function(){var t,e,n,i,r,o,s,a,l,h,c;for(a=u.dom.queryAll('ul[data-role="listview"]'),c=[],l=0,h=a.length;h>l;l++)s=a[l],i=$(s),i.addClass("ui-listview"),i.data("inset")&&i.addClass("ui-listview-inset"),o=dom.queryAll("li",s),c.push(function(){var i,s,a;for(a=[],i=0,s=o.length;s>i;i++)r=o[i],n=$(r),n.addClass(["ui-li","ui-btn"]),t=n.find("a"),e=$("<div/>").addClass("ui-btn-inner").append(t),a.push(n.empty().append(e));return a}());return c}),function(){var t,i;return i=!1,$(function(){return n.body.addEventListener("touchmove",function(t){return t.preventDefault()},!1)}),t=function(){function t(t){this.element=t,this.animationIndex=1,this.startTouchY=0,this.globalStyleSheet=n.styleSheets[n.styleSheets.length-1],this.$el=$(this.element),this.lastTouchY=0,this.contentStartOffsetY=0,this.element.addEventListener("touchstart",this,!1),this.element.addEventListener("touchmove",this,!1),this.element.addEventListener("touchend",this,!1)}return t.prototype.snapBoundary=80,t.prototype.snapDuration=500,t.prototype.handleEvent=function(t){switch(t.type){case"touchstart":return this.onTouchStart(t);case"touchmove":return this.onTouchMove(t);case"touchend":return this.onTouchEnd(t)}},t.prototype.onTouchStart=function(t){return this.stopMomentum(),this.startTouchY=t.touches[0].clientY,this.startTouchTime=(new Date).getTime(),this.contentStartOffsetY=this.getContentOffsetY(),console.log("onTouchStart",{startTouchY:this.startTouchY,contentStartOffsetY:this.contentStartOffsetY})},t.prototype.onTouchMove=function(t){var e,n,i;if(this.isDragging)return e=t.touches[0].clientY,n=e-this.startTouchY,i=n+this.contentStartOffsetY,console.log("onTouchMove",{touchY:e,deltaY:n,newY:i,contentStartOffsetY:this.contentStartOffsetY}),this.lastTouchY=e,i>this.snapBoundary&&(i=this.snapBoundary),this.$el.height()+i+this.snapBoundary<this.$el.parent().height()&&(i=-this.$el.height()+(this.$el.parent().height()-this.snapBoundary)),this.animateTo(i),this.contentLastOffsetY=i},t.prototype.onTouchEnd=function(t){return console.log("onTouchEnd",t),this.isDragging()?this.shouldStartMomentum()?this.startMomentum():this.snapToBounds():undefined},t.prototype.getCurrentTransform=function(){var t;return t=n.defaultView.getComputedStyle(this.element,null),new WebKitCSSMatrix(t.webkitTransform)},t.prototype.getContentOffsetY=function(){return this.getCurrentTransform().m42},t.prototype.isDragging=function(){return!0},t.prototype.animateTo=function(t){return this.contentOffsetY=t,this.element.style.webkitTransform="translate3d(0, "+t+"px, 0)"},t.prototype.getEndVelocity=function(){return(this.contentLastOffsetY-this.contentStartOffsetY)/((new Date).getTime()-this.startTouchTime)},t.prototype.isDecelerating=function(){return!0},t.prototype.cubicBezierAnimateTo=function(t,e){return this.element.style.webkitTransition="-webkit-transform "+t+"ms cubic-bezier(0.33, 0.66, 0.66, 1)",this.element.style.webkitTransform="translate3d(0,"+e+"px, 0)",this.contentOffsetY=e},t.prototype.overBottomSnapLimit=function(t){var e,n;return e=this.getElementHeight(this.element),n=this.getElementHeight(this.element.parentNode),n-(e+t)>=this.snapBoundary},t.prototype.shouldStartMomentum=function(){var t;return t=this.calculateMomentum(),1>t.velocity&&t.newY>0?!1:this.overBottomSnapLimit(t.newY)?!1:!0},t.prototype.calculateMomentum=function(){var t,e,n,i,r;return r=this.getEndVelocity(),t=0>r?5e-4:-5e-4,e=-(r*r)/(2*t),i=-r/t,n=this.contentOffsetY+e,{velocity:r,acceleration:t,displacement:e,time:i,newY:n}},t.prototype.startMomentum=function(){var t,e,n,i,r,o,s,a=this;return n=this.calculateMomentum(),n.newY>0?(i="snaptobounds"+this.animationIndex++,e=[],s=.6*n.time,r=n.newY>this.snapBoundary?this.snapBoundary:n.newY,e.push({time:.2*s,transform:"translate3d(0,"+r+"px,0)"}),e.push({time:s,transform:"translate3d(0,0px,0)"}),t=this.generateCSSKeyframes(e,i,s),this.globalStyleSheet.insertRule(t,0),this.element.style.webkitAnimation=i+" "+s+"ms cubic-bezier(0.33,0.66,0.66,1)",this.element.style.webkitAnimationPlayState=null!=i?i:{running:"paused"},console.log&&console.log("Playing snaptobounds animation",t),o=function(){return a.element.removeEventListener("webkitAnimationEnd",o,!1),a.globalStyleSheet.deleteRule(0),a.element.style.webkitAnimation="none",a.element.style.webkitTransition="",a.animateTo(0)},this.element.addEventListener("webkitAnimationEnd",o,!1),undefined):(console.log("startMomentum",n),this.cubicBezierAnimateTo(n.time,n.newY))},t.prototype.stopMomentum=function(){var t;return this.isDecelerating()?(t=this.getCurrentTransform(),this.element.style.webkitTransition="",this.animateTo(t.m42)):undefined},t.prototype.getElementHeight=function(t){return parseInt(e.getComputedStyle(t).height)},t.prototype.snapToBounds=function(){var t,e,n;return e=this.getContentOffsetY(),this.overBottomSnapLimit(e)?(t=this.getElementHeight(this.element),n=this.getElementHeight(this.element.parentNode),this.cubicBezierAnimateTo(this.snapDuration,n-t)):this.cubicBezierAnimateTo(this.snapDuration,0)},t.prototype.generateCSSKeyframes=function(t,e,n){var i;return i=["@-webkit-keyframes "+e+" {"],t.forEach(function(t){var e,r;return r=100*(t.time/n),e=Math.floor(r)+"% { ",e+="-webkit-transform: "+t.transform+";",t.transition&&(e+="-webkit-transition: "+t.transition+";"),e+="}",i.push(e)}),i.push("}"),i.join("\n")},t}(),umobi.scroller={},umobi.scroller.create=function(e){return new t(e)}}(),umobi.support={offlineCache:e.applicationCache!==undefined,classList:n.documentElement!==undefined},function(){return u("body").css("overflow","hidden").addClass("ui-overlay-c"),umobi.page={all:function(){return $(u.dom.queryAll('[data-role="page"]'))},active:function(){return $(u.dom.queryAll(".ui-page-active"))},reveal:function(t){return this.active().removeClass("ui-page-active"),t.addClass("ui-page-active").trigger("pagereveal"),$(n).trigger("pagereveal",[t])},revealByHash:function(t){var e;return e=$(t),e.get(0)||(e=$('[data-role="page"]').first()),umobi.page.reveal(e)},create:function(t){var n,i,r,o,s,a,u,l;return o=$(t),o.trigger("pagecreate").addClass("ui-page ui-body-c"),r=o.find('[data-role="header"]').addClass("ui-header"),i=o.find('[data-role="footer"]').addClass("ui-footer"),n=o.find('[data-role="content"]').addClass("ui-content"),r.find("h1,h2,h3,h4,h5,h6").addClass("ui-title"),u=r.data("fixed"),u&&(n.wrap('<div class="ui-content-scroll"/>'),s=n.parent(),umobi.scroller.create(n.get(0)),a=function(){var t,n,i,r,a,u;return t=o.find('[data-role="content"]'),i=o.find('[data-role="header"]'),n=o.find('[data-role="footer"]'),a=$(e).height(),u=0,r=0,i.get(0)&&(u=i.height()),n.get(0)&&(r=n.height()),s.css({position:"absolute",top:u+"px",left:0,bottom:r+"px",overflow:"auto"})},o.on("pagereveal",a)),l=null,$(e).resize(function(){return l&&clearTimeout(l),l=setTimeout(a,100)}),r.data("fixed")&&r.addClass("ui-fixed-header"),i.data("fixed")?i.addClass("ui-fixed-footer"):undefined}}}(),function(){return umobi.handleHashChange=function(){return umobi.page.revealByHash(location.hash)},$(e).on("hashchange",function(t){return umobi.handleHashChange(t)}),e.umobi.Navigator=function(){function t(){}return t.prototype.urlParseRE=/^\s*(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/,t.prototype.getLocation=function(t){var e,n;return n=t?this.parseUrl(t):location,e=this.parseUrl(t||location.href).hash,e="#"===e?"":e,n.protocol+"//"+n.host+n.pathname+n.search+e},t.prototype.parseLocation=function(){return this.parseUrl(this.getLocation())},t.prototype.parseUrl=function(t){var e,n;return"object"===$.type(t)?t:(n=path.urlParseRE.exec(t||"")||[],e={href:n[0]||"",hrefNoHash:n[1]||"",hrefNoSearch:n[2]||"",domain:n[3]||"",protocol:n[4]||"",doubleSlash:n[5]||"",authority:n[6]||"",username:n[8]||"",password:n[9]||"",host:n[10]||"",hostname:n[11]||"",port:n[12]||"",pathname:n[13]||"",directory:n[14]||"",filename:n[15]||"",search:n[16]||"",hash:n[17]||""})},t.prototype.makePathAbsolute=function(t,e){var n,i,r,o,s;if(t&&"/"===t.charAt(0))return t;for(t=t||"",e=e?e.replace(/^\/|(\/[^\/]*|[^\/]+)$/g,""):"",n=e?e.split("/"):[],r=t.split("/"),o=0,s=r.length;s>o;o++)switch(i=r[o]){case".":break;case"..":n.length&&n.pop();break;default:n.push(i)}return"/"+n.join("/")},t}()}(),function(){var t;return u("html").children(0).addClass("ui-mobile ui-mobile-rendering"),t=$(n.getElementsByTagName("html")[0]),t.addClass("ui-mobile ui-mobile-rendering"),u.ready(function(){var t,i,r,o,s,a,l;for($(n).trigger("pageinit"),t=umobi.page.all(),t.length||(t=$("body").wrapInner('<div data-role="page"></div>').children(0)),t.each(function(){return umobi.page.create(this)}),l=n.links,s=0,a=l.length;a>s;s++)o=l[s],$(o).addClass("ui-link").click(function(){var t;return t=$(this).attr("href"),t.match(/^#\w+/)?umobi.page.revealByHash(t):undefined});return e.navigator.userAgent.match(/iPhone|iPad|Android/)&&(i=function(){return n.documentElement.scrollHeight<e.outerHeight/e.devicePixelRatio&&(n.documentElement.style.height=e.outerHeight/e.devicePixelRatio+"px",n.documentElement.style.overflow="hidden"),e.scrollTo(0,1)},e.addEventListener("load",i),e.addEventListener("orientationchange",i),$(n).on("pagereveal",i)),location.hash?umobi.page.revealByHash(location.hash):(r=u.dom.query("#index"),r?umobi.page.reveal($(r)):umobi.page.reveal(t.first())),u("html").removeClass("ui-mobile-rendering")})}(),"undefined"==typeof define&&(define=function(){}),define("umobi",["require","depend!jquery[]","depend!classList[]","cs","coffee-script","cs!umobi.core","cs!u.dom","cs!u","cs!umobi.button","cs!umobi.widget","cs!umobi.zoom","cs!umobi.listview","cs!umobi.navigation","cs!umobi.scroller","cs!umobi.support","cs!umobi.offlinecache","cs!umobi.page","cs!umobi.init"],function(){})});